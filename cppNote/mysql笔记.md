# 关系型数据库概述

数据库管理系统软件(`DBMS`)是一种专门管理数据的软件，应用程序不需要自己管理数据，而是通过`DBMS`提供的结构来读写数据。

```
┌──────────────┐
│ application  │
└──────────────┘
       ▲│
       ││
   read││write
       ││
       │▼
┌──────────────┐
│   database   │
└──────────────┘
```

##  数据模型

+ 层次模型 （树形结构）

```
            ┌─────┐
            │     │
            └─────┘
               │
       ┌───────┴───────┐
       │               │
    ┌─────┐         ┌─────┐
    │     │         │     │
    └─────┘         └─────┘
       │               │
   ┌───┴───┐       ┌───┴───┐
   │       │       │       │
┌─────┐ ┌─────┐ ┌─────┐ ┌─────┐
│     │ │     │ │     │ │     │
└─────┘ └─────┘ └─────┘ └─────┘
```



+ 网状模型（图结构）

```
     ┌─────┐      ┌─────┐
   ┌─│     │──────│     │──┐
   │ └─────┘      └─────┘  │
   │    │            │     │
   │    └──────┬─────┘     │
   │           │           │
┌─────┐     ┌─────┐     ┌─────┐
│     │─────│     │─────│     │
└─────┘     └─────┘     └─────┘
   │           │           │
   │     ┌─────┴─────┐     │
   │     │           │     │
   │  ┌─────┐     ┌─────┐  │
   └──│     │─────│     │──┘
      └─────┘     └─────┘
```



+ 关系模型（表`table`结构）

```
┌─────┬─────┬─────┬─────┬─────┐
│     │     │     │     │     │
├─────┼─────┼─────┼─────┼─────┤
│     │     │     │     │     │
├─────┼─────┼─────┼─────┼─────┤
│     │     │     │     │     │
├─────┼─────┼─────┼─────┼─────┤
│     │     │     │     │     │
└─────┴─────┴─────┴─────┴─────┘ //任何数据都可以通过行+列确定
```

## 数据类型

| 名称         | 类型           | 说明                                                         |
| :----------- | :------------- | :----------------------------------------------------------- |
| INT          | 整型           | 4字节整数类型，范围约+/-21亿                                 |
| BIGINT       | 长整型         | 8字节整数类型，范围约+/-922亿亿                              |
| REAL         | 浮点型         | 4字节浮点数，范围约+/-1038                                   |
| DOUBLE       | 浮点型         | 8字节浮点数，范围约+/-10308                                  |
| DECIMAL(M,N) | 高精度小数     | 由用户指定精度的小数，例如，DECIMAL(20,10)表示一共20位，其中小数10位，通常用于财务计算 |
| CHAR(N)      | 定长字符串     | 存储指定长度的字符串，例如，CHAR(100)总是存储100个字符的字符串 |
| VARCHAR(N)   | 变长字符串     | 存储可变长度的字符串，例如，VARCHAR(100)可以存储0~100个字符的字符串 |
| BOOLEAN      | 布尔类型       | 存储True或者False                                            |
| DATE         | 日期类型       | 存储日期，例如，2018-06-22                                   |
| TIME         | 时间类型       | 存储时间，例如，12:20:59                                     |
| DATETIME     | 日期和时间类型 | 存储日期+时间，例如，2018-06-22 12:20:59                     |

## SQL

`Structured Query Language`

功能：

+ DDL: Data Defination Language
+ DML: Data Manipulation Language
+ DQL: Data Query Language

特点：

+ SQL语言关键字不区分大小写
+ 建议关键字总是大写，以表示突出，列名和表明均使用小写



## 运行MySQL

安装完成之后，需要通过`mysql`命令行程序来连接MySQL服务器

在命令行内输入

```shell
mysql -u root -p
```

然后输入密码，就会连接到MySQL服务器，同时命令行提示符变为`mysql>`，输入`exit`可以退出命令行，但是此时MySQL服务器仍将在后台运行



# 关系模型

关系型数据库就是建立在关系模型上的，关系模型的本质就是一张表(`table`) 

+ 表的每一行称为记录（`record`），记录是一条逻辑意义的数据
+ 表的每一列称为字段（`column`），同一张表的每行记录都拥有相同的若干字段



字段定义了数据类型（整型，浮点型，字符串，日期等），以及是否允许为`NULL`

+ `NULL` ≠ 0
   + NULL表示字段数据不存在

+ 字段应避免允许为NULL：不允许为NULL可以简化查询条件，加快查询速度，有利于应用程序读取数据后无需判断是否为NULL



关系模型有：

1. 一对一
2. 一对多
3. 多对多



## 主键

+ 在一张表中，能过通过某个字段能够唯一区分出不同的记录的字段称为主键

+ 选取主键的基本原则：不适用任何业务相关的字段作为主键，比如身份证号、手机号、邮箱地址

+ 命名一个名为`id`的字段用来做主键



## 联合主键

+ 在较为复杂的关系数据库中，允许通过多个字段共同标识一条记录，即两个或更多的字段都设置为主键，这种主键被称为联合主键
+ 对于联合主键的表中，只要不是所有主键列都重复即是唯一的一条记录
+ 尽量不适用联合主键



## 外键

## 索引

